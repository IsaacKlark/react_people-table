(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(30)},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),s=a(8),l=a(6),d=a(7),i=a(14),m=a(4),u=function(e){var t=e.person,a=e.index,n=e.personInURL,o=Math.ceil(t.died/100),c=Object(l.f)(),s=Object(l.e)();return r.a.createElement("tr",{className:"m"===t.sex?"tr Person--male\n          Person--lived-in-".concat(o,"\n        "):"tr Person--female\n          Person--lived-in-".concat(o,"\n        "),id:t.name.toLowerCase()===n?"Person--selected":t.name,"data-earlyborn":t.born<1650?"earlyBorn":"",onClick:function(){var e="/people/".concat(t.name.toLowerCase().split(" ").join("-"));c.pathname=e,s.location.pathname=e,s.replace(c.pathname,e)}},r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.id),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.name),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.sex),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.born),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.died),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.mother),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.father),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light","data-greenlive":t.died-t.born>=65?"greenLive":""},t.died-t.born),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},o))},b=function(e){var t=e.peopleList,a=Object(n.useState)("Person--selected"),o=Object(m.a)(a,1)[0],c=Object(n.useState)(null),s=Object(m.a)(c,2),d=s[0],i=s[1],b=function(e){o(e)},_=Object(l.f)().pathname.match(/(people\/.+(?=\/|:|\?|\b))/g);if(_){var p=_,h=_=Object(m.a)(p,1)[0].split("/");_=Object(m.a)(h,2)[1].split("-").join(" ")}return(!d&&_||d!==_)&&i(_),r.a.createElement("table",{className:"people__table"},r.a.createElement("thead",{className:"table__head"},r.a.createElement("tr",null,r.a.createElement("td",{className:"head__td"},"id"),r.a.createElement("td",{className:"head__td"},"name"),r.a.createElement("td",{className:"head__td"},"sex"),r.a.createElement("td",{className:"head__td"},"born"),r.a.createElement("td",{className:"head__td"},"died"),r.a.createElement("td",{className:"head__td"},"mother"),r.a.createElement("td",{className:"head__td"},"father"),r.a.createElement("td",{className:"head__td"},"age"),r.a.createElement("td",{className:"head__td"},"century"))),r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement(n.Fragment,{key:e.name},r.a.createElement(u,{person:e,index:t,changeSelected:b,personInURL:d}))})))},_=function(){var e=Object(n.useState)(0),t=Object(m.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!0),s=Object(m.a)(c,2),u=s[0],_=s[1],p=Object(n.useState)([]),h=Object(m.a)(p,2),y=h[0],f=h[1],E=Object(n.useState)([]),g=Object(m.a)(E,2),N=g[0],j=g[1],v=Object(n.useState)(null),O=Object(m.a)(v,2),C=O[0],S=O[1],w=Object(l.f)(),k=Object(l.e)(),L=new URLSearchParams(w.search),x=w.search.toString().match(/(query)=.+(?=[:|&|\b])/g);x||(x=w.search.toString().match(/(query)=.+(?=\/|\?|:|&|\b)/g)),x&&(x=x[0].split("=")[1].split("+").join(" ")),x&&x!==C&&(S(x),B(x)),u&&fetch("https://mate-academy.github.io/react_people-table/api/people.json").then(function(e){return e.json()}).then(function(e){o(e.length),f(e.map(function(e,t){return Object(i.a)({},e,{id:t})})),j(e.map(function(e,t){return Object(i.a)({},e,{id:t})})),_(!1)});function B(e){var t=y.filter(function(t){var a=null===t.mother?"":t.mother,n=null===t.father?"":t.father;return a.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase())||n.toLowerCase().includes(e.toLowerCase())});j(t),o(t.length),e.length>0?(L.set("query",e),k.push({search:L.toString()})):k.push({search:null})}var P=function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];clearTimeout(a),a=setTimeout(function(){e.apply(void 0,r)},t)}}(B,1e3);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"people__h1"},u?"...Loading":"".concat(a," persons found")),u?"":r.a.createElement("div",{className:"people__forms"},r.a.createElement("nav",null,r.a.createElement("input",{type:"text",name:"search",placeholder:"find",onChange:function(e){P(e.target.value)}}),r.a.createElement("button",{type:"button",onClick:function(){var e=Object(d.a)(N.sort(function(e,t){return e.name.localeCompare(t.name)}));j(e),L.set("sortBy","name"),k.push({search:L.toString()})},className:"sort__button"},"sort by name"),r.a.createElement("button",{type:"button",onClick:function(){var e=Object(d.a)(N.sort(function(e,t){return e.id-t.id}));j(e),L.set("sortBy","id"),k.push({search:L.toString()})},className:"sort__button"},"sort by id"),r.a.createElement("button",{type:"button",onClick:function(){var e=Object(d.a)(N.sort(function(e,t){return e.sex.localeCompare(t.sex)}));j(e),L.set("sortBy","sex"),k.push({search:L.toString()})},className:"sort__button"},"sort by sex"),r.a.createElement("button",{type:"button",onClick:function(){var e=Object(d.a)(N.sort(function(e,t){return e.born-t.born}));j(e),L.set("sortBy","born"),k.push({search:L.toString()})},className:"sort__button"},"sort by born"),r.a.createElement("button",{type:"button",onClick:function(){var e=Object(d.a)(N.sort(function(e,t){return e.died-t.died}));j(e),L.set("sortBy","died"),k.push({search:L.toString()})},className:"sort__button"},"sort by died"),r.a.createElement("button",{type:"button",onClick:function(){var e=Object(d.a)(N.sort(function(e,t){return e.died-e.born-(t.died-t.born)}));j(e),L.set("sortBy","age"),k.push({search:L.toString()})},className:"sort__button"},"sort by age"),r.a.createElement("button",{type:"button",onClick:function(){var e=Object(d.a)(N.sort(function(e,t){return Math.ceil(e.died/100)-Math.ceil(t.died/100)}));j(e),L.set("sortBy","century"),k.push({search:L.toString()})},className:"sort__button"},"sort by century")),r.a.createElement(b,{peopleList:N})))},p=function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(s.b,{to:"/",exact:!0,className:"link",activeClassName:"active__link"},"Home"),r.a.createElement(s.b,{to:"/people",exact:!0,className:"link",activeClassName:"active__link"},"people list"),r.a.createElement(l.a,{path:"/people",component:_})))};c.a.render(r.a.createElement(p,{test:123}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.997a10f6.chunk.js.map