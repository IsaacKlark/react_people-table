(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(30)},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),s=a(8),l=a(6),i=a(7),d=a(14),m=a(3),u=function(e){var t=e.person,a=e.index,n=e.personInURL,c=Math.ceil(t.died/100),o=Object(l.f)(),s=Object(l.e)();return r.a.createElement("tr",{className:"m"===t.sex?"tr Person--male\n          Person--lived-in-".concat(c,"\n        "):"tr Person--female\n          Person--lived-in-".concat(c,"\n        "),id:t.name.toLowerCase()===n?"Person--selected":t.name,"data-earlyborn":t.born<1650?"earlyBorn":"",onClick:function(){var e="/people/".concat(t.name.toLowerCase().split(" ").join("-"));o.pathname=e,s.location.pathname=e,s.replace(o.pathname,e)}},r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.id),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.name),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.sex),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.born),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.died),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.mother),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},t.father),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light","data-greenlive":t.died-t.born>=65?"greenLive":""},t.died-t.born),r.a.createElement("td",{className:a%2===0?"body__td":"body__td-light"},c))},b=function(e){var t=e.peopleList,a=Object(n.useState)("Person--selected"),c=Object(m.a)(a,1)[0],o=Object(n.useState)(null),s=Object(m.a)(o,2),i=s[0],d=s[1],b=function(e){c(e)},h=Object(l.f)().pathname.match(/(people\/.+(?=\/|:|\?|\b))/g);if(h){var p=h,_=h=Object(m.a)(p,1)[0].split("/");h=Object(m.a)(_,2)[1].split("-").join(" ")}return(!i&&h||i!==h)&&d(h),r.a.createElement("table",{className:"people__table"},r.a.createElement("thead",{className:"table__head"},r.a.createElement("tr",null,r.a.createElement("td",{className:"head__td"},"id"),r.a.createElement("td",{className:"head__td"},"name"),r.a.createElement("td",{className:"head__td"},"sex"),r.a.createElement("td",{className:"head__td"},"born"),r.a.createElement("td",{className:"head__td"},"died"),r.a.createElement("td",{className:"head__td"},"mother"),r.a.createElement("td",{className:"head__td"},"father"),r.a.createElement("td",{className:"head__td"},"age"),r.a.createElement("td",{className:"head__td"},"century"))),r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement(n.Fragment,{key:e.name},r.a.createElement(u,{person:e,index:t,changeSelected:b,personInURL:i}))})))},h=function(){var e=Object(n.useState)(0),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!0),s=Object(m.a)(o,2),u=s[0],h=s[1],p=Object(n.useState)([]),_=Object(m.a)(p,2),y=_[0],f=_[1],E=Object(n.useState)([]),g=Object(m.a)(E,2),j=g[0],N=g[1],v=Object(n.useState)(null),O=Object(m.a)(v,2),S=O[0],k=O[1],C=Object(n.useState)(null),w=Object(m.a)(C,2),L=w[0],x=w[1],B=Object(l.f)(),P=Object(l.e)(),q=new URLSearchParams(B.search),A=B.search.toString().match(/(query)=.+(?=[:|&|\b])/g);A||(A=B.search.toString().match(/(query)=.+(?=\/|\?|:|&|\b)/g)),A&&(A=A[0].split("=")[1].split("+").join(" "));var I=B.search.toString().match(/(sortBy)=.+(?=[:|&|\b])/g);if(I||(I=B.search.toString().match(/(sortBy)=.+(?=\/|\?|:|&|\b)/g)),A&&A!==S&&(k(A),M(A)),I&&(I=I[0].split("=")[1].split("+").join(" ")),I&&I!==L)switch(x(I),I){case"name":U();break;case"id":J();break;case"sex":T();break;case"born":F();break;case"died":H();break;case"age":z();break;case"century":D()}u&&fetch("https://mate-academy.github.io/react_people-table/api/people.json").then(function(e){return e.json()}).then(function(e){c(e.length),f(e.map(function(e,t){return Object(d.a)({},e,{id:t})})),N(e.map(function(e,t){return Object(d.a)({},e,{id:t})})),h(!1)});function M(e){var t=y.filter(function(t){var a=null===t.mother?"":t.mother,n=null===t.father?"":t.father;return a.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase())||n.toLowerCase().includes(e.toLowerCase())});N(t),c(t.length),e.length>0?(q.set("query",e),P.push({search:q.toString()})):P.push({search:null})}var R=function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];clearTimeout(a),a=setTimeout(function(){e.apply(void 0,r)},t)}}(M,1e3);function U(){var e=Object(i.a)(j.sort(function(e,t){return e.name.localeCompare(t.name)}));N(e),q.set("sortBy","name"),P.push({search:q.toString()})}function J(){var e=Object(i.a)(j.sort(function(e,t){return e.id-t.id}));N(e),q.set("sortBy","id"),P.push({search:q.toString()})}function T(){var e=Object(i.a)(j.sort(function(e,t){return e.sex.localeCompare(t.sex)}));N(e),q.set("sortBy","sex"),P.push({search:q.toString()})}function F(){var e=Object(i.a)(j.sort(function(e,t){return e.born-t.born}));N(e),q.set("sortBy","born"),P.push({search:q.toString()})}function H(){var e=Object(i.a)(j.sort(function(e,t){return e.died-t.died}));N(e),q.set("sortBy","died"),P.push({search:q.toString()})}function z(){var e=Object(i.a)(j.sort(function(e,t){return e.died-e.born-(t.died-t.born)}));N(e),q.set("sortBy","age"),P.push({search:q.toString()})}function D(){var e=Object(i.a)(j.sort(function(e,t){return Math.ceil(e.died/100)-Math.ceil(t.died/100)}));N(e),q.set("sortBy","century"),P.push({search:q.toString()})}return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"people__h1"},u?"...Loading":"".concat(a," persons found")),u?"":r.a.createElement("div",{className:"people__forms"},r.a.createElement("nav",null,r.a.createElement("input",{type:"text",name:"search",placeholder:"find",onChange:function(e){R(e.target.value)}}),r.a.createElement("button",{type:"button",onClick:U,className:"sort__button"},"sort by name"),r.a.createElement("button",{type:"button",onClick:J,className:"sort__button"},"sort by id"),r.a.createElement("button",{type:"button",onClick:T,className:"sort__button"},"sort by sex"),r.a.createElement("button",{type:"button",onClick:F,className:"sort__button"},"sort by born"),r.a.createElement("button",{type:"button",onClick:H,className:"sort__button"},"sort by died"),r.a.createElement("button",{type:"button",onClick:z,className:"sort__button"},"sort by age"),r.a.createElement("button",{type:"button",onClick:D,className:"sort__button"},"sort by century")),r.a.createElement(b,{peopleList:j})))},p=function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(s.b,{to:"/",exact:!0,className:"link",activeClassName:"active__link"},"Home"),r.a.createElement(s.b,{to:"/people",exact:!0,className:"link",activeClassName:"active__link"},"people list"),r.a.createElement(l.a,{path:"/people",component:h})))};o.a.render(r.a.createElement(p,{test:123}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.a87c3d34.chunk.js.map